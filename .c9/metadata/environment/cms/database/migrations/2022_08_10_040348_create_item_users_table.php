{"filter":false,"title":"2022_08_10_040348_create_item_users_table.php","tooltip":"/cms/database/migrations/2022_08_10_040348_create_item_users_table.php","undoManager":{"mark":6,"position":6,"stack":[[{"start":{"row":18,"column":11},"end":{"row":19,"column":0},"action":"insert","lines":["",""],"id":7},{"start":{"row":19,"column":0},"end":{"row":19,"column":8},"action":"insert","lines":["        "]},{"start":{"row":19,"column":8},"end":{"row":20,"column":0},"action":"insert","lines":["",""]},{"start":{"row":20,"column":0},"end":{"row":20,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":20,"column":8},"end":{"row":28,"column":12},"action":"insert","lines":["     Schema::create('item_users', function (Blueprint $table) {","            $table->bigIncrements('nice_id');","            $table->unsignedBigInteger('user_id');","            $table->unsignedBigInteger('item_id');","            $table->foreign('user_id')->references('id')->on('users')->onDelete('cascade'); //外部キー参照","            $table->foreign('item_id')->references('id')->on('items')->onDelete('cascade'); //外部キー参照","            $table->unique(['user_id', 'item_id'],'uq_roles'); //Laravelは複合主キーが扱いにくいのでユニークで代用","            $table->timestamps();","         });"],"id":8}],[{"start":{"row":20,"column":12},"end":{"row":27,"column":33},"action":"remove","lines":[" Schema::create('item_users', function (Blueprint $table) {","            $table->bigIncrements('nice_id');","            $table->unsignedBigInteger('user_id');","            $table->unsignedBigInteger('item_id');","            $table->foreign('user_id')->references('id')->on('users')->onDelete('cascade'); //外部キー参照","            $table->foreign('item_id')->references('id')->on('items')->onDelete('cascade'); //外部キー参照","            $table->unique(['user_id', 'item_id'],'uq_roles'); //Laravelは複合主キーが扱いにくいのでユニークで代用","            $table->timestamps();"],"id":9}],[{"start":{"row":16,"column":12},"end":{"row":20,"column":12},"action":"remove","lines":["$table->id();","            $table->timestamps();","        });","        ","            "],"id":10},{"start":{"row":16,"column":12},"end":{"row":23,"column":33},"action":"insert","lines":[" Schema::create('item_users', function (Blueprint $table) {","            $table->bigIncrements('nice_id');","            $table->unsignedBigInteger('user_id');","            $table->unsignedBigInteger('item_id');","            $table->foreign('user_id')->references('id')->on('users')->onDelete('cascade'); //外部キー参照","            $table->foreign('item_id')->references('id')->on('items')->onDelete('cascade'); //外部キー参照","            $table->unique(['user_id', 'item_id'],'uq_roles'); //Laravelは複合主キーが扱いにくいのでユニークで代用","            $table->timestamps();"]}],[{"start":{"row":16,"column":12},"end":{"row":16,"column":13},"action":"remove","lines":[" "],"id":11}],[{"start":{"row":16,"column":11},"end":{"row":16,"column":70},"action":"remove","lines":[" Schema::create('item_users', function (Blueprint $table) {"],"id":12},{"start":{"row":16,"column":11},"end":{"row":17,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":16,"column":11},"end":{"row":16,"column":12},"action":"remove","lines":[" "],"id":13},{"start":{"row":16,"column":11},"end":{"row":16,"column":12},"action":"remove","lines":[" "]},{"start":{"row":16,"column":11},"end":{"row":16,"column":12},"action":"remove","lines":[" "]},{"start":{"row":16,"column":11},"end":{"row":16,"column":12},"action":"remove","lines":[" "]},{"start":{"row":16,"column":11},"end":{"row":16,"column":12},"action":"remove","lines":[" "]},{"start":{"row":16,"column":11},"end":{"row":16,"column":12},"action":"remove","lines":[" "]},{"start":{"row":16,"column":11},"end":{"row":16,"column":12},"action":"remove","lines":[" "]},{"start":{"row":16,"column":11},"end":{"row":16,"column":12},"action":"remove","lines":[" "]},{"start":{"row":16,"column":11},"end":{"row":16,"column":12},"action":"remove","lines":[" "]},{"start":{"row":16,"column":11},"end":{"row":16,"column":12},"action":"remove","lines":[" "]},{"start":{"row":16,"column":11},"end":{"row":16,"column":12},"action":"remove","lines":[" "]}]]},"ace":{"folds":[],"scrolltop":401,"scrollleft":0,"selection":{"start":{"row":35,"column":2},"end":{"row":35,"column":2},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":24,"state":"php-start","mode":"ace/mode/php"}},"timestamp":1660104636074,"hash":"d25a49adb7586daf348db352bc0d248c069fd437"}